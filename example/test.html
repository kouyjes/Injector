<!DOCTYPE html>
<html>
    <head>
        <title>injector test page</title>
        <script src="../src/Injector.js"></script>
        <script>
            var baseInjector = new Injector();
            baseInjector.factory('personFactory', function () {
                return {
                    name:Math.random(),
                    getName: function () {
                        return this.name;
                    }
                };
            }).service('personService', function () {
                this.name = Math.random();
                this.getName = function () {
                    return this.name;
                }
            })
            var personF = baseInjector.getFactory('personFactory');
            console.log('factory--personName:' + personF.getName());

            var personS = baseInjector.getService('personService');
            console.log('service--personName:' + personS.getName());


            var injector = new Injector(baseInjector);

            injector.service('bookService', ['personService',function (personService) {
                this.getBookSeller = function () {
                    return 'book' + personService.getName();
                }
            }]).service('searchService',['personService',function (personService) {
                this.getSearchName = function () {
                    return 'search' + personService.getName();
                }
            }]);

            var bookS = injector.getService('bookService');
            console.log('bookS:' + bookS.getBookSeller());
            var searchS = injector.getService('searchService');
            console.log('searchS:' + searchS.getSearchName());
        </script>
    </head>
    <body>

    </body>
</html>